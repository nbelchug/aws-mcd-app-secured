module "application_transitgateway" {
  
  source = "./modules/app-tgw"
  providers = {
    aws-this = aws
    aws-peer = aws
  }
  count = var.skip_tgw==true ? 0 : 1
  application_name =var.application_name
  tfrun_identifier =  random_pet.tf_run.id
  environment = var.environment
  app_fe_vpc_id         =   module.application_vpcs.app_fe_vpc_id 
  app_be_vpc_id         =   module.application_vpcs.app_be_vpc_id 
  app_private_subnet_id =   module.application_vpcs.app_private_subnet_id
  app_public_subnet_id  =   module.application_vpcs.app_public_subnet_id
  app_fe_cidr_block     =   module.application_vpcs.app_fe_cidr_block
  app_be_cidr_block     =   module.application_vpcs.app_be_cidr_block

    depends_on = [module.application_vpcs]

}